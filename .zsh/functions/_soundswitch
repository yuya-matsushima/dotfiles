#compdef soundswitch

# soundswitch コマンドの補完定義

_soundswitch() {
  local context state line
  typeset -A opt_args

  _arguments -C \
    '(-h --help)'{-h,--help}'[Show help]' \
    '1: :_soundswitch_subcommands' \
    '*::arg:->args'

  case $state in
    args)
      case $line[1] in
        list|status|input|output)
          # これらのサブコマンドには追加の引数なし
          ;;
      esac
      ;;
  esac
}

_soundswitch_subcommands() {
  local -a subcommands
  subcommands=(
    'list:List all available audio devices'
    'status:Show current input/output devices'
    'input:Select and switch input device with fzf'
    'output:Select and switch output device with fzf'
  )
  _describe -t subcommands 'soundswitch subcommand' subcommands
}

_soundswitch "$@"