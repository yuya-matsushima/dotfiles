# Vim 設定の課題

## 課題リスト

- [x] **キーマッピングの競合**
  - `<F2>` キーが複数の機能に割り当てられている：
    - LSPのリネーム機能（200_lsp.vim）
    - カラースキーム切り替え（300_colorscheme.vim）

- [x] **autocmdの非効率な使用**
  - `au!` でグローバルに全てのautocmdをクリアしている
  - 各設定ファイルで独自のaugroupを使用しているが、グローバルクリアにより意図しない動作の可能性

- [x] **ファイルタイプ設定の不整合**
  - `103_file_alias.vim` で非標準的なファイルタイプ設定
    - 例：`FileType js` → `javascript` の変換は不要
    - `.envrc` のファイルタイプ設定が正しくない（`FileType` ではなく `BufRead,BufNewFile` を使うべき）

- [x] **文字コード設定の限定性**
  - 日本語環境に特化した文字コード設定（sjis, cp932など）
  - 国際的な開発環境では不要な設定が含まれている

- [x] **プラグイン設定の不足**
  - 多くのプラグインがインストールされているが、設定が最小限
  - 特にLSP関連の設定が不十分（補完、診断表示など）
  - Copilotの設定がない

- [x] **パフォーマンスの問題**
  - 起動時に全ての設定ファイルを読み込んでいる
  - プラグインの遅延読み込みが設定されていない
  - `vim-plug` の遅延読み込み機能が活用されていない（terraformのみ使用）

- [x] **モダンなVim機能の未使用**
  - Vim8の新機能（terminal、popup windowなど）が使われていない
  - 古いプラグインに依存している（例：`vim-scripts/closetag.vim`）

- [ ] **設定の可読性**
  - マジックナンバーの使用（例：ステータスラインの `%l/%L` など）
  - コメントが少なく、設定の意図が不明確
  - 設定ファイルの番号付けルールが不明確

- [ ] **エラーハンドリングの不足**
  - プラグインの存在チェックが一部のみ（200_lsp.vimのみ）
  - その他の設定ではプラグインが存在しない場合のエラーハンドリングがない

- [ ] **GUI設定の限定性**
  - `.gvimrc` の設定が最小限
  - MacVim特有の機能が活用されていない
  - フォント設定がハードコードされている

- [ ] **設定ファイルの過度な分割**
  - 12個の小さなファイル（合計185行）に分割されている
  - 各ファイルが10〜29行程度で、分割のメリットが少ない
  - 設定の全体像を把握するために複数ファイルを確認する必要がある
  - 番号付けルール（100番台、200番台、300番台）の意図が不明確
  - 単一の.vimrcファイルで十分管理可能なサイズ