# .vimrc.minimal の改善課題

このファイルは .vimrc.minimal を .vimrc に追従させるための課題をまとめています。

## 分析結果

.vimrc.minimal（114行）と .vimrc（469行）の主な差分を分析し、minimal版に適用すべき改善点を特定しました。

## 改善課題リスト

### [x] 1. 非効率なautocmd使用の修正
**現状**: `au!` をグローバルで実行（3行目）
**改善**: 各augroup内で `autocmd!` を使用し、グローバルクリアを削除

### [x] 2. 文字コード設定の最適化
**現状**: `set fileencodings=utf-8,ucs-bom,euc-jp,iso-2022-jp,sjis,cp932,utf-16,utf-16le`
**改善**: CSVファイル対応を維持しつつ `sjis,cp932` の順序を適切に設定

### [x] 3. ファイルタイプ設定の不整合修正
**現状**: 複数の不整合あり
- `FileTYpe` のタイポ（92行目）
- `FileType .envrc` の誤った設定（93行目）
- 不完全なエイリアス設定

**改善**: 
- タイポ修正
- `*.envrc` ファイルの正しい設定
- TypeScript、ERB、その他のファイルタイプ追加

### [x] 4. ステータスラインの改善
**現状**: シンプルな設定 `\%t\%=\[%l/%L]\[%{&filetype}]\[%{&fileencoding}]`
**改善**: 
- キーボードタイプ表示追加
- より詳細な情報表示
- フォーマット統一

### [x] 5. インデント設定の充実
**現状**: PHP、Goの設定のみ
**改善**: 
- HTML、CSS、JavaScript、Python等の設定追加
- Markdown、Slim、Haml等の設定追加

### [x] 6. folding設定の改善
**現状**: `set fillchars=vert:\1` の不正な設定
**改善**: `set fillchars=vert:\|` に修正

### [x] 7. バッファイベントの拡張
**現状**: 限定的な設定
**改善**: 
- RTrim、LTrimTabAndSpace関数の追加
- Markdownファイルのカンマ処理追加
- より適切なファイル名チェック

### [x] 8. キーマッピングの改善
**現状**: USキーボード設定がコメントアウト
**改善**: 
- 外部USキーボード検出機能追加
- 動的なキーマッピング切り替え

### [ ] 9. テキスト幅設定の拡張
**現状**: 基本的な設定のみ
**改善**: 
- JavaScript、TypeScript、Coffee等の追加
- Markdown用の設定追加

### [ ] 10. エラーハンドリングの追加
**現状**: 基本的なチェックのみ
**改善**: 
- 機能存在チェックの追加
- より安全な設定

### [ ] 11. 設定の構造化
**現状**: フラットな構造
**改善**: 
- セクション分けとコメント追加
- 可読性向上

### [ ] 12. モダンVim機能の追加（minimal範囲内）
**現状**: 基本機能のみ
**改善**: 
- 必要最小限のモダン機能追加
- パフォーマンス向上

## 適用方針

- minimal版の思想を維持（プラグイン依存なし）
- 設定のみでの改善に限定
- .vimrcで実証済みの設定を選択的に適用
- 114行から大幅に増加させず、200行以内を目標

## 優先度

- **高**: 1, 2, 3, 6 （バグ修正・不整合解決）
- **中**: 4, 5, 7, 8 （機能向上）
- **低**: 9, 10, 11, 12 （品質向上）